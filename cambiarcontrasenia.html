<!DOCTYPE html>
<html>
<head>
  <title>Cambiar Contrase√±a</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url('https://media.istockphoto.com/id/1462942852/es/foto/concepto-de-educaci%C3%B3n-en-l%C3%ADnea-con-iconos-e-learning.jpg?s=612x612&w=0&k=20&c=tvW_8ursWBbGz-s2Wo_z5SS5x5YWCH7usx6ygoQC5h8='); /* Cambia 'URL_DE_TU_FONDO' por la URL de la imagen de fondo */
      background-size: cover;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }
    h1{
      color:white
    }
    .container {
      background-image: url('data:image/png;base64,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'); /* Cambia 'URL_DE_TU_FONDO_DEL_CONTAINER' por la URL de la imagen de fondo */
      background-size: cover;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 400px;
    }
    form {
      max-width: 250px;
      margin: 0 auto;
    }
    label, input {
      border-radius: 5px;
      display: block;
      margin-bottom: 10px;
    }
    input[type="submit"] {
     border-radius: 5px;
      margin-top: 10px;
      background-color:rgba(41, 6, 80, 0.644)
    }
    .error {
      color: red;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h1>Cambiar Contrase√±a</h1>
  <div class="container">
    <form id="cambiarContraseniaForm">
      <label for="dni">DNI:</label>
      <input type="text" id="dni" required>
      <label for="contraseniaActual">Contrase√±a Actual:</label>
      <input type="password" id="contraseniaActual" required>
      <label for="nuevaContrasenia">Nueva Contrase√±a:</label>
      <input type="password" id="nuevaContrasenia" required>
      <span id="errorContrasenia" class="error"></span>
      <input type="submit" value="Cambiar Contrase√±a">
    </form>
  </div>

  <script>
    document.getElementById("cambiarContraseniaForm").addEventListener("submit", function(event) {
      event.preventDefault();

      var dniInput = document.getElementById("dni").value;
      var contraseniaActualInput = document.getElementById("contraseniaActual").value;
      var nuevaContraseniaInput = document.getElementById("nuevaContrasenia").value;

      console.log("Datos ingresados: DNI=", dniInput, " Contrase√±a Actual=", contraseniaActualInput, " Nueva Contrase√±a=", nuevaContraseniaInput);

      var url = "https://registro-3e4b9-default-rtdb.firebaseio.com/registro.json";

      var regexContrasenia = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/;
      if (!regexContrasenia.test(nuevaContraseniaInput)) {
        document.getElementById("errorContrasenia").innerText = "La contrase√±a debe tener al menos 8 caracteres, incluir una may√∫scula y al menos un car√°cter especial.";
        return;
      } else {
        document.getElementById("errorContrasenia").innerText = "";
      }

      fetch(url)
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          console.log("Datos de la API:", data);
          var registroEncontrado = null;
          for (var key in data) {
            if (data.hasOwnProperty(key) && data[key].dni === dniInput && data[key].contrasenia === contraseniaActualInput) {
              registroEncontrado = key;
              break;
            }
          }

          if (registroEncontrado) {
            var registroUrl = "https://registro-3e4b9-default-rtdb.firebaseio.com/registro/" + registroEncontrado + "/contrasenia.json";

            fetch(registroUrl, {
              method: "PUT",
              body: JSON.stringify(nuevaContraseniaInput)
            })
            .then(function(response) {
              alert("Contrase√±a actualizada correctamente.");
              document.getElementById("cambiarContraseniaForm").reset();
            })
            .catch(function(error) {
              alert("Ha ocurrido un error al actualizar la contrase√±a. Por favor, intenta nuevamente.");
              console.error(error);
            });
          } else {
            alert("Los datos ingresados son incorrectos.");
          }
        })
        .catch(function(error) {
          alert("Ha ocurrido un error. Por favor, intenta nuevamente.");
          console.error(error);
        });
    });
  </script>
</body>
</html>
